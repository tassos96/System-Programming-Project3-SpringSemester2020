////////////////////////////////////////////////////////////////////////////////

Προγραμματισμός Συστήματος								  
Εαρινό Εξάμηνο 2019-2020								  

Εργασία 3	

////////////////////////////////////////////////////////////////////////////////


Όνομα: Αναστάσιος
Επώνυμο: Αντωνόπουλος
Α.Μ.: 1115201400014

////////////////////////////////////////////////////////////////////////////////

Η εργασία υλοποιήθηκε με την χρήση του Visual Studio Code σε σύστημα Ubuntu.

Εντολή μεταγλώττισης: make
Εντολή διαγραφής εκτελέσιμου: make clean

Σειρά εκτέλεσης προγραμμάτων: 
	1-> Server
	2-> Master
	3-> Client

Παράδειγμα εκτέλεσης στο ίδιο μηχάνημα

Παράδειγμα εντολής εκτέλεσης server: ./whoServer -q 9000 -s 9001 -w 2 -b 10

Παράδειγμα εντολής εκτέλεσης master: ./master -w 2 -b 50 -s localhost -p 9001 -i ./input_dir

Παράδειγμα εντολής εκτέλεσης client: ./whoClient -q queryFile -w 2 -sp 9000 -sip localhost

Παράδειγμα εκτέλεσης σε διαφορετικά μηχανήματα

Παράδειγμα εντολής εκτέλεσης server: ./whoServer -q 9000 -s 9001 -w 2 -b 10

Παράδειγμα εντολής εκτέλεσης master: ./master -w 2 -b 50 -s linuxvm01.di.uoa.gr -p 9001 -i ./input_dir

Παράδειγμα εντολής εκτέλεσης client: ./whoClient -q queryFile -w 2 -sp 9000 -sip linuxvm01.di.uoa.gr


////////////////////////////////////////////////////////////////////////////////

Τα αρχεία της εργασίας έχουν οργανωθεί με τον εξής τρόπο:

-Φάκελος whoServer:
	Περιέχει τα αρχεία για το πρόγραμμα του whoServer.

-Φάκελος whoClient:
	Περιέχει τα αρχεία για το πρόγραμμα του whoClient.

-Φάκελος master: 
	Περιέχει τα αρχεία για το πρόγραμμα του master.

Σε κάθε φάκελο περιέχεται αρχείο makefike για ξεχωριστή μεταγλώττιση των προγραμμάτων αλλά και στο parent folder περιέχεται makefile το οποίο μεταγλωττίζει ταυτόχρονα και τα 3 παραπάνω προγράμματα.

Στον κώδικα της εργασίας περιέχονται αναλυτικά σχόλια για την λειτουργικότητα του προγράμματος.

Το πρόγραμμα έχει δοκιμαστεί τόσο σε localhost όπως και σε ξεχωριστά linux μηχανήματα της σχολής.

////////////////////////////////////////////////////////////////////////////////

Πληροφορίες για το master:
	Το master πρόγραμμα εκτελείται αφού έχει εκτελεστεί το πρόγραμμα του server. Η υλοποίηση του έχει γίνει όπως και στης δεύτερης άσκησης.

Πληροφορίες για τον whoServer:
	To server πρόγραμμα είναι το πρώτο που πρέπει να εκτελεστεί αφού σε αυτό πρέπει να συνδεθούν οι workers του master για να στείλουν αρχικά τα ports αλλά και τα summary statistics και ύστερα να δεχτούν ερωτήματα. Αλλά και για να συνδεθούν οι clients που θα στείλουν τα ερωτήματα τους. Για την υλοποίηση των ερωτημάτων που μπορεί να απαντήσει ο server μέσω των summary statistics που του έχουν στείλει στην αρχή οι workers χρησιμοποιήθηκαν οι υλοποιήσεις από την δεύτερη εργασία. Για ερωτήματα που χρείαζονται πληροφορίες από τους workers πχ searchPatient στέλνει στους workers αίτημα όπως γινόταν και με τον parent και τους workers στην δεύτερη εργασία.

Πληροφορίες για τον whoClient:
	To client πρόγραμμα συνδέεται στον server και του υποβάλει τα ερωτήματα που περιέχονται στο query file. Αρχικά σώζει σε ένα string array όλες τις γραμμές(εντολές) του αρχείου και στην συνέχεια τις μοιράζει στην δομή arguments με την σειρά στα threads. Όταν τα thread δημιουργούνται ξεκινάνε να επεξεργάζονται τις εντολές που τους αντιστοιχούν υποβάλλοντας σχετικά αιτήματα στον server μέσα από το προσωπικό τους socket.

////////////////////////////////////////////////////////////////////////////////


